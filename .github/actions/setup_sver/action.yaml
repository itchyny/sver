name: "setup sver"
description: "setup sver"

inputs:
  version:
    description: 'sver release version'
    required: false
    default: 'v0.1.2'
  os:
    description: 'sver release os'
    required: false
    default: 'linux'

runs:
  using: "composite"
  steps:
    - name: install sver
      shell: bash
      run: |
        TEMPDIR=$(mktemp -d)
        FILE_NAME="sver_${{ inputs.version }}_${{ inputs.os }}_amd64.zip"
        FILE_URL="https://github.com/mitoma/sver/releases/download/${{ inputs.version }}/$FILE_NAME"
        cd "$TEMPDIR"
        curl -L "$FILE_URL" -o "$FILE_NAME"
        unzip "$FILE_NAME"
        mv sver* "$HOME/.local/bin"
        sver --help
